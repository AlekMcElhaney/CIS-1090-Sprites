(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const l of t)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(t){const l={};return t.integrity&&(l.integrity=t.integrity),t.referrerpolicy&&(l.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?l.credentials="include":t.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(t){if(t.ep)return;t.ep=!0;const l=r(t);fetch(t.href,l)}})();let L;const h=300;function B(e){L=0,e[0].image="\u{1F692}",e[0].x=100,e[0].y=100,e[1].image="\u{1F3E0}",e[1].x=300,e[1].y=100,e[2].image="\u{1F525}",e[2].x=300,e[2].y=120}function G(e,o,r,i,t,l,a,x){const n=e[0];return i&&(n.y+=h*r),t&&(n.y-=h*r),a&&(n.x+=h*r,n.flipH=!0),l&&(n.x-=h*r,n.flipH=!1),e[2].y+=Math.sin(o)/10,L}const P={name:"Homework",instructions:"Write your instructions here",icon:"\u{1F4DD}",background:{"background-color":"#555"},frame:G,setup:B},k=200,p=400;let w,u;function S(e,o){let r=e.x-o.x,i=e.y-o.y;return Math.sqrt(r*r+i*i)}function R(e){e[0].image="\u{1F9CD}\u200D\u2642\uFE0F",e[0].x=15,e[0].y=0,e[1].image="\u{1F920}",e[1].x=3,e[1].y=35,e[2].image=")",e[2].x=40,e[2].y=20,e[2].color="#8E562E",e[3].image="\u27B5",e[3].x=-100,e[3].y=-100,e[4].image="\u{1F98C}",e[4].x=500,e[4].y=300,u=!1,w=0}function U(e,o,r,i,t,l,a,x){const n=e[0],b=e[1],f=e[2],c=e[3],m=e[4];return i&&(n.y+=k*r),t&&(n.y-=k*r),a&&(n.x+=k*r,f.flipH=!1),l&&(n.x-=k*r,f.flipH=!0),b.x=n.x-12,b.y=n.y+35,b.y+=2*Math.sin((l||a?9:3)*o),f.y=n.y+15,f.flipH?f.x=n.x-20:f.x=n.x+40,u==0?(c.y=n.y+10,f.flipH?(c.x=n.x-40,c.flipH=!0):(c.x=n.x+30,c.flipH=!1)):(c.x+=r*u,c.flipH=u<0,(c.x<-100||c.x>900)&&(u=0)),x&&(f.flipH?c.x=n.x-30:c.x=n.x+20,c.y=n.y+10,u=f.flipH?-p:p),m.image=="\u{1F969}"?S(n,m)<50&&(w++,m.image="\u{1F98C}",m.x=780*Math.random(),m.y=470*Math.random()):!x&&u&&S(c,m)<20&&(w++,u=0,m.image="\u{1F969}"),w}const j={name:"Buck Stalker",instructions:"<b>Shoot \u{1F98C}, eat \u{1F969}!</b><br>Arrow keys to move.<br>Space to shoot an arrow.",icon:"\u{1F3F9}",background:{"background-color":"green"},frame:U,setup:R};let y,H,d;function C(e){y=0,d=0,H=!1,e[0].image="\u{1F9CD}\u200D\u2642\uFE0F",e[0].x=0,e[0].y=0;for(let o=1;o<4;o++)e[o].image="\u{1F9A1}",e[o].y=0,e[o].x=300*o}function I(e,o,r,i,t,l,a,x){if(H)return x&&(d=0,H=!1,e[0].y=150),d;a?(e[0].x+=r*500,e[0].flipH=!0):l&&(e[0].x-=r*500,e[0].flipH=!1),l||a?e[0].y>0?e[0].image="\u{1F3C3}\u200D\u2642\uFE0F":e[0].image=Math.round(o*10)%2?"\u{1F6B6}":"\u{1F3C3}\u200D\u2642\uFE0F":e[0].image="\u{1F9CD}\u200D\u2642\uFE0F",e[0].x<0&&(e[0].x=0),e[0].x>750&&(e[0].x=750),i&&e[0].y==0&&(y=500),e[0].y+=y*r,e[0].y>0?y=y-1500*r:(y=0,e[0].y=0);for(let n=1;n<4;n++)e[n].x-=r*(100+30*n+10*d),e[n].x<-50&&(e[n].x=800+Math.random()*400,d++),e[n].y=Math.sin(20*o+10*n);for(let n=1;n<4;n++)Math.abs(e[n].x-e[0].x)<10&&e[0].y<30&&(H=!0,e[0].image="\u2620\uFE0F");return d}const K={name:"Badger Dodger",instructions:"Left and Right arrows to move, Up to jump, Space to restart.",icon:"\u{1F9A1}",background:{"background-color":"skyblue","background-image":"linear-gradient(#424299, skyblue)","border-bottom":"50px solid green"},frame:I,setup:C};let T=[P,j,K],V=document.querySelector("#shelf");T.forEach(e=>{let o=document.createElement("div");o.classList.add("game"),o.innerHTML=`${e.name}<span class='icon'>${e.icon}</span>`,V.appendChild(o),o.addEventListener("click",()=>$(e))});let M=document.querySelector("#app"),W=document.querySelector("#score > span"),Y=document.querySelectorAll("#app > div.sprite"),g=[],s=!1;function $(e){if(s)for(let o in s.background)M.style[o]="";g=[{image:"",x:0,y:0,flipH:!1},{image:"",x:0,y:0,flipH:!1},{image:"",x:0,y:0,flipH:!1},{image:"",x:0,y:0,flipH:!1},{image:"",x:0,y:0,flipH:!1},{image:"",x:0,y:0,flipH:!1}],document.querySelector("#current > .name").innerText=e.name,document.querySelector("#name").innerText=e.name,document.querySelector("#current > .icon").innerText=e.icon,document.querySelector("#current > .instructions").innerHTML=e.instructions,s=e,e.setup(g);for(let o in e.background)M.style[o]=e.background[o]}$(T[1]);let v,A,D,E,O;document.onkeyup=document.onkeydown=function(e){let o=e.type=="keydown";switch(e.key){case"ArrowUp":e.preventDefault(),v=o;break;case"ArrowDown":e.preventDefault(),A=o;break;case"ArrowLeft":e.preventDefault(),D=o;break;case"ArrowRight":e.preventDefault(),E=o;break;case" ":e.preventDefault(),O=o;break}};let F=new Date().getTime(),q=F;requestAnimationFrame(N);function N(){let e=new Date().getTime(),o=(e-q)/1e3,r=(e-F)/1e3;if(q=e,s){let i=s.frame(g,r,o,v,A,D,E,O);W.innerText=i;for(let t=0;t<g.length;t++){let l=Y[t],a=g[t];l.innerText=a.image,l.style.color=a.color,l.style.left=a.x+"px",l.style.bottom=a.y+"px",l.style.transform=`scale(${a.flipH?-1:1},${a.flipY?-1:1})`}}requestAnimationFrame(N)}
