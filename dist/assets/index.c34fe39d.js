(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerpolicy&&(r.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?r.credentials="include":l.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(l){if(l.ep)return;l.ep=!0;const r=t(l);fetch(l.href,r)}})();let $;const k=300;function B(e,o){let t=e.x-o.x,i=e.y-o.y;return Math.sqrt(t*t+i*i)}function G(e){$=0,e[0].image="\u{1F692}",e[0].x=100,e[0].y=100,e[1].image="\u{1F3E0}",e[1].x=300,e[1].y=100,e[2].image="\u{1F525}",e[2].x=300,e[2].y=120}function P(e,o,t,i,l,r,a,g){const n=e[0],m=e[1],f=e[2];return i&&(n.y+=k*t),l&&(n.y-=k*t),a&&(n.x+=k*t,n.flipH=!0),r&&(n.x-=k*t,n.flipH=!1),B(n,m)<10&&(f.image=""),e[2].y+=Math.sin(o)/10,$}const R={name:"Homework",instructions:"Write your instructions here",icon:"\u{1F4DD}",background:{"background-color":"#555"},frame:P,setup:G},b=200,p=400;let w,u;function M(e,o){let t=e.x-o.x,i=e.y-o.y;return Math.sqrt(t*t+i*i)}function U(e){e[0].image="\u{1F9CD}\u200D\u2642\uFE0F",e[0].x=15,e[0].y=0,e[1].image="\u{1F920}",e[1].x=3,e[1].y=35,e[2].image=")",e[2].x=40,e[2].y=20,e[2].color="#8E562E",e[3].image="\u27B5",e[3].x=-100,e[3].y=-100,e[4].image="\u{1F98C}",e[4].x=500,e[4].y=300,u=!1,w=0}function j(e,o,t,i,l,r,a,g){const n=e[0],m=e[1],f=e[2],c=e[3],y=e[4];return i&&(n.y+=b*t),l&&(n.y-=b*t),a&&(n.x+=b*t,f.flipH=!1),r&&(n.x-=b*t,f.flipH=!0),m.x=n.x-12,m.y=n.y+35,m.y+=2*Math.sin((r||a?9:3)*o),f.y=n.y+15,f.flipH?f.x=n.x-20:f.x=n.x+40,u==0?(c.y=n.y+10,f.flipH?(c.x=n.x-40,c.flipH=!0):(c.x=n.x+30,c.flipH=!1)):(c.x+=t*u,c.flipH=u<0,(c.x<-100||c.x>900)&&(u=0)),g&&(f.flipH?c.x=n.x-30:c.x=n.x+20,c.y=n.y+10,u=f.flipH?-p:p),y.image=="\u{1F969}"?M(n,y)<50&&(w++,y.image="\u{1F98C}",y.x=780*Math.random(),y.y=470*Math.random()):!g&&u&&M(c,y)<20&&(w++,u=0,y.image="\u{1F969}"),w}const C={name:"Buck Stalker",instructions:"<b>Shoot \u{1F98C}, eat \u{1F969}!</b><br>Arrow keys to move.<br>Space to shoot an arrow.",icon:"\u{1F3F9}",background:{"background-color":"green"},frame:j,setup:U};let d,H,x;function I(e){d=0,x=0,H=!1,e[0].image="\u{1F9CD}\u200D\u2642\uFE0F",e[0].x=0,e[0].y=0;for(let o=1;o<4;o++)e[o].image="\u{1F9A1}",e[o].y=0,e[o].x=300*o}function K(e,o,t,i,l,r,a,g){if(H)return g&&(x=0,H=!1,e[0].y=150),x;a?(e[0].x+=t*500,e[0].flipH=!0):r&&(e[0].x-=t*500,e[0].flipH=!1),e[0].x<0&&(e[0].x=0),e[0].x>750&&(e[0].x=750),r||a?e[0].y>0?e[0].image="\u{1F3C3}\u200D\u2642\uFE0F":e[0].image=Math.round(o*10)%2?"\u{1F6B6}":"\u{1F3C3}\u200D\u2642\uFE0F":e[0].image="\u{1F9CD}\u200D\u2642\uFE0F",i&&e[0].y==0&&(d=500),e[0].y+=d*t,e[0].y>0?d=d-1500*t:(d=0,e[0].y=0);for(let n=1;n<4;n++)e[n].x-=t*(100+30*n+10*x),e[n].x<-50&&(e[n].x=800+Math.random()*400,x++),e[n].y=Math.sin(20*o+10*n);for(let n=1;n<4;n++)Math.abs(e[n].x-e[0].x)<10&&e[0].y<30&&(H=!0,e[0].image="\u2620\uFE0F");return x}const V={name:"Badger Dodger",instructions:"Left and Right arrows to move, Up to jump, Space to restart.",icon:"\u{1F9A1}",background:{"background-color":"skyblue","background-image":"linear-gradient(#424299, skyblue)","border-bottom":"50px solid green"},frame:K,setup:I};let L=[R,C,V],W=document.querySelector("#shelf");L.forEach(e=>{let o=document.createElement("div");o.classList.add("game"),o.innerHTML=`${e.name}<span class='icon'>${e.icon}</span>`,W.appendChild(o),o.addEventListener("click",()=>T(e))});let S=document.querySelector("#app"),Y=document.querySelector("#score > span"),z=document.querySelectorAll("#app > div.sprite"),s=[],h=!1;function T(e){if(h)for(let o in h.background)S.style[o]="";s=[{image:"",x:0,y:0,flipH:!1},{image:"",x:0,y:0,flipH:!1},{image:"",x:0,y:0,flipH:!1},{image:"",x:0,y:0,flipH:!1},{image:"",x:0,y:0,flipH:!1},{image:"",x:0,y:0,flipH:!1}],document.querySelector("#current > .name").innerText=e.name,document.querySelector("#name").innerText=e.name,document.querySelector("#current > .icon").innerText=e.icon,document.querySelector("#current > .instructions").innerHTML=e.instructions,h=e,e.setup(s);for(let o in e.background)S.style[o]=e.background[o]}T(L[0]);let v,A,D,E,O;document.onkeyup=document.onkeydown=function(e){let o=e.type=="keydown";switch(e.key){case"ArrowUp":e.preventDefault(),v=o;break;case"ArrowDown":e.preventDefault(),A=o;break;case"ArrowLeft":e.preventDefault(),D=o;break;case"ArrowRight":e.preventDefault(),E=o;break;case" ":e.preventDefault(),O=o;break}};let F=new Date().getTime(),q=F;requestAnimationFrame(N);function N(){let e=new Date().getTime(),o=(e-q)/1e3,t=(e-F)/1e3;if(q=e,h){let i=h.frame(s,t,o,v,A,D,E,O);Y.innerText=i;for(let l=0;l<s.length;l++){let r=z[l],a=s[l];r.innerText=a.image,r.style.color=a.color,r.style.left=a.x+"px",r.style.bottom=a.y+"px",r.style.transform=`scale(${a.flipH?-1:1},${a.flipY?-1:1})`}}requestAnimationFrame(N)}
